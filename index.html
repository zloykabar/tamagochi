<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–∞–º–∞–≥–æ—á–∏ - –í—ã–±–µ—Ä–∏ –ø–∏—Ç–æ–º—Ü–∞</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #6ee7b7;
        }
        
        .game-area {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 20px;
        }
        
        /* –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ø–∏—Ç–æ–º—Ü–∞ */
        .pet-selection {
            text-align: center;
        }
        
        .selection-title {
            font-size: 1.8rem;
            margin-bottom: 30px;
            color: #fbbf24;
        }
        
        .pets-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .pet-option {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s;
            border: 3px solid transparent;
        }
        
        .pet-option:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.1);
            border-color: #6ee7b7;
        }
        
        .pet-option.selected {
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
        }
        
        .pet-icon {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
        }
        
        .pet-name {
            font-size: 1.3rem;
            margin-bottom: 10px;
            font-weight: bold;
        }
        
        .pet-description {
            font-size: 0.9rem;
            color: #cbd5e1;
            margin-bottom: 15px;
        }
        
        .start-button {
            background: linear-gradient(135deg, #10b981, #34d399);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.2rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }
        
        .start-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(16, 185, 129, 0.3);
        }
        
        .start-button:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */
        .game-screen {
            display: none;
        }
        
        .screen-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .back-button {
            background: #6b7280;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .pet-display {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .current-pet {
            width: 200px;
            height: 200px;
            margin: 0 auto 20px;
            position: relative;
        }
        
        .pet-body {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
        }
        
        .pet-eye {
            width: 30px;
            height: 30px;
            background: white;
            border-radius: 50%;
            position: absolute;
            top: 40%;
        }
        
        .left-eye { left: 25%; }
        .right-eye { right: 25%; }
        
        .pet-mouth {
            width: 60px;
            height: 30px;
            border-bottom: 5px solid black;
            border-radius: 0 0 50px 50px;
            position: absolute;
            bottom: 25%;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .stats {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .stat {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
        }
        
        .stat-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }
        
        .bar-container {
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
        }
        
        .bar {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s;
        }
        
        .hunger-bar { background: #ef4444; }
        .happiness-bar { background: #fbbf24; }
        .energy-bar { background: #3b82f6; }
        .health-bar { background: #10b981; }
        
        .controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        button {
            background: #6366f1;
            color: white;
            border: none;
            padding: 15px 10px;
            border-radius: 10px;
            font-size: 0.9rem;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            transition: all 0.2s;
        }
        
        button:hover {
            background: #4f46e5;
            transform: translateY(-2px);
        }
        
        button:disabled {
            background: #6b7280;
            cursor: not-allowed;
            transform: none;
        }
        
        .message {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-top: 20px;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pet-info {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            color: #cbd5e1;
            font-size: 0.9rem;
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            50% { transform: translateX(5px); }
            75% { transform: translateX(-5px); }
            100% { transform: translateX(0); }
        }
        
        .shake {
            animation: shake 0.5s ease;
        }
        
        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 768px) {
            .pets-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .controls {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (max-width: 480px) {
            .pets-grid {
                grid-template-columns: 1fr;
            }
            
            .controls {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –≠–∫—Ä–∞–Ω –≤—ã–±–æ—Ä–∞ –ø–∏—Ç–æ–º—Ü–∞ -->
        <div class="pet-selection" id="selection-screen">
            <header>
                <h1><i class="fas fa-paw"></i> –¢–∞–º–∞–≥–æ—á–∏</h1>
                <p>–í—ã–±–µ—Ä–∏—Ç–µ —Å–≤–æ–µ–≥–æ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞</p>
            </header>
            
            <div class="game-area">
                <h2 class="selection-title">–ö—Ç–æ –±—É–¥–µ—Ç –≤–∞—à–∏–º –ø–∏—Ç–æ–º—Ü–µ–º?</h2>
                
                <div class="pets-grid" id="pets-container">
                    <!-- –ü–∏—Ç–æ–º—Ü—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JavaScript -->
                </div>
                
                <button class="start-button" id="start-button" disabled>
                    –ù–∞—á–∞—Ç—å –∏–≥—Ä—É
                </button>
            </div>
            
            <footer style="text-align: center; margin-top: 30px; color: #94a3b8;">
                <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–∏—Ç–æ–º—Ü–∞ –∏ –Ω–∞–∂–º–∏—Ç–µ "–ù–∞—á–∞—Ç—å –∏–≥—Ä—É"</p>
            </footer>
        </div>
        
        <!-- –ò–≥—Ä–æ–≤–æ–π —ç–∫—Ä–∞–Ω -->
        <div class="game-screen" id="game-screen">
            <div class="screen-header">
                <button class="back-button" id="back-button">
                    <i class="fas fa-arrow-left"></i>
                    –í—ã–±—Ä–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ
                </button>
                <h2 id="game-title">–¢–∞–º–∞–≥–æ—á–∏</h2>
                <div id="pet-type-display"></div>
            </div>
            
            <div class="game-area">
                <div class="pet-display">
                    <div class="current-pet" id="current-pet">
                        <!-- –ü–∏—Ç–æ–º–µ—Ü –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω —á–µ—Ä–µ–∑ JavaScript -->
                    </div>
                    <h2 id="pet-status">–°—á–∞—Å—Ç–ª–∏–≤—ã–π</h2>
                </div>
                
                <div class="pet-info">
                    <div>–ò–º—è: <span id="pet-name-display">–ü–∏—Ç–æ–º–µ—Ü</span></div>
                    <div>–í–æ–∑—Ä–∞—Å—Ç: <span id="pet-age">0</span> –¥–Ω–µ–π</div>
                </div>
                
                <div class="stats">
                    <div class="stat">
                        <div class="stat-info">
                            <span><i class="fas fa-utensils"></i> –ì–æ–ª–æ–¥</span>
                            <span id="hunger-value">80%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar hunger-bar" id="hunger-bar" style="width: 80%"></div>
                        </div>
                    </div>
                    
                    <div class="stat">
                        <div class="stat-info">
                            <span><i class="fas fa-smile"></i> –°—á–∞—Å—Ç—å–µ</span>
                            <span id="happiness-value">90%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar happiness-bar" id="happiness-bar" style="width: 90%"></div>
                        </div>
                    </div>
                    
                    <div class="stat">
                        <div class="stat-info">
                            <span><i class="fas fa-bolt"></i> –≠–Ω–µ—Ä–≥–∏—è</span>
                            <span id="energy-value">75%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar energy-bar" id="energy-bar" style="width: 75%"></div>
                        </div>
                    </div>
                    
                    <div class="stat">
                        <div class="stat-info">
                            <span><i class="fas fa-heart"></i> –ó–¥–æ—Ä–æ–≤—å–µ</span>
                            <span id="health-value">95%</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar health-bar" id="health-bar" style="width: 95%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="controls">
                    <button id="feed-btn">
                        <i class="fas fa-apple-alt"></i>
                        <span>–ü–æ–∫–æ—Ä–º–∏—Ç—å</span>
                    </button>
                    
                    <button id="play-btn">
                        <i class="fas fa-gamepad"></i>
                        <span>–ü–æ–∏–≥—Ä–∞—Ç—å</span>
                    </button>
                    
                    <button id="sleep-btn">
                        <i class="fas fa-bed"></i>
                        <span>–£–ª–æ–∂–∏—Ç—å —Å–ø–∞—Ç—å</span>
                    </button>
                    
                    <button id="heal-btn">
                        <i class="fas fa-first-aid"></i>
                        <span>–ü–æ–¥–ª–µ—á–∏—Ç—å</span>
                    </button>
                    
                    <button id="clean-btn">
                        <i class="fas fa-shower"></i>
                        <span>–ü–æ–º—ã—Ç—å</span>
                    </button>
                    
                    <button id="train-btn">
                        <i class="fas fa-dumbbell"></i>
                        <span>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å</span>
                    </button>
                </div>
                
                <div class="message" id="message">
                    –ó–∞–±–æ—Ç—å—Ç–µ—Å—å –æ —Å–≤–æ–µ–º –ø–∏—Ç–æ–º—Ü–µ!
                </div>
            </div>
        </div>
    </div>

    <script>
        // ============================
        // –î–ê–ù–ù–´–ï –ü–ò–¢–û–ú–¶–ï–í
        // ============================
        const petsData = [
            {
                id: 'dog',
                name: '–°–æ–±–∞—á–∫–∞',
                emoji: 'üêï',
                color: '#f59e0b',
                description: '–í–µ—Ä–Ω—ã–π –¥—Ä—É–≥, –ª—é–±–∏—Ç –∏–≥—Ä–∞—Ç—å –∏ —Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è',
                special: '–ë—ã—Å—Ç—Ä–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –≤–æ —Å–Ω–µ'
            },
            {
                id: 'cat',
                name: '–ö–æ—Ç–∏–∫',
                emoji: 'üê±',
                color: '#6b7280',
                description: '–ù–µ–∑–∞–≤–∏—Å–∏–º—ã–π, –∏–Ω–æ–≥–¥–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç —Ö–æ–∑—è–∏–Ω–∞, –Ω–æ –æ—á–µ–Ω—å –º–∏–ª—ã–π',
                special: '–ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç–µ—Ä—è–µ—Ç —Å—á–∞—Å—Ç—å–µ'
            },
            {
                id: 'rabbit',
                name: '–ö—Ä–æ–ª–∏–∫',
                emoji: 'üê∞',
                color: '#ef4444',
                description: '–ü—É—à–∏—Å—Ç—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π, –ª—é–±–∏—Ç –º–æ—Ä–∫–æ–≤–∫—É –∏ –ø—Ä—ã–≥–∞—Ç—å',
                special: '–ë—ã—Å—Ç—Ä–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ'
            },
            {
                id: 'dragon',
                name: '–î—Ä–∞–∫–æ–Ω—á–∏–∫',
                emoji: 'üê≤',
                color: '#10b981',
                description: '–ú–∞–≥–∏—á–µ—Å–∫–∏–π –ø–∏—Ç–æ–º–µ—Ü, –º–æ–∂–µ—Ç –¥—ã—à–∞—Ç—å –æ–≥–Ω–µ–º (–∏–Ω–æ–≥–¥–∞)',
                special: '–ú–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç–µ—Ä—è–µ—Ç —ç–Ω–µ—Ä–≥–∏—é'
            },
            {
                id: 'panda',
                name: '–ü–∞–Ω–¥–∞',
                emoji: 'üêº',
                color: '#1f2937',
                description: '–ú–∏–ª—ã–π –∏ –ª–µ–Ω–∏–≤—ã–π, –æ–±–æ–∂–∞–µ—Ç –±–∞–º–±—É–∫ –∏ —Å–æ–Ω',
                special: '–ë—ã—Å—Ç—Ä–µ–µ –Ω–∞—Å—ã—â–∞–µ—Ç—Å—è –µ–¥–æ–π'
            },
            {
                id: 'unicorn',
                name: '–ï–¥–∏–Ω–æ—Ä–æ–≥',
                emoji: 'ü¶Ñ',
                color: '#8b5cf6',
                description: '–í–æ–ª—à–µ–±–Ω—ã–π –∏ –≥—Ä–∞—Ü–∏–æ–∑–Ω—ã–π, –ø—Ä–∏–Ω–æ—Å–∏—Ç —É–¥–∞—á—É',
                special: '–í—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–Ω–∏–∂–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ'
            }
        ];

        // ============================
        // –°–û–°–¢–û–Ø–ù–ò–ï –ò–ì–†–´
        // ============================
        let gameState = {
            selectedPet: null,
            pet: {
                type: '',
                name: '',
                hunger: 80,
                happiness: 90,
                energy: 75,
                health: 95,
                age: 0,
                isSleeping: false
            }
        };

        // ============================
        // –≠–õ–ï–ú–ï–ù–¢–´ –î–û–ú
        // ============================
        const selectionScreen = document.getElementById('selection-screen');
        const gameScreen = document.getElementById('game-screen');
        const petsContainer = document.getElementById('pets-container');
        const startButton = document.getElementById('start-button');
        const backButton = document.getElementById('back-button');
        const currentPetElement = document.getElementById('current-pet');
        const petNameDisplay = document.getElementById('pet-name-display');
        const petTypeDisplay = document.getElementById('pet-type-display');
        const gameTitle = document.getElementById('game-title');

        // ============================
        // –§–£–ù–ö–¶–ò–ò –í–´–ë–û–†–ê –ü–ò–¢–û–ú–¶–ê
        // ============================
        function renderPetSelection() {
            petsContainer.innerHTML = '';
            
            petsData.forEach(pet => {
                const petElement = document.createElement('div');
                petElement.className = 'pet-option';
                petElement.dataset.id = pet.id;
                
                petElement.innerHTML = `
                    <div class="pet-icon" style="background: ${pet.color}">
                        <span style="font-size: 3rem;">${pet.emoji}</span>
                    </div>
                    <div class="pet-name">${pet.name}</div>
                    <div class="pet-description">${pet.description}</div>
                    <div style="color: #fbbf24; font-size: 0.8rem;">
                        <i class="fas fa-star"></i> ${pet.special}
                    </div>
                `;
                
                petElement.addEventListener('click', () => selectPet(pet.id));
                petsContainer.appendChild(petElement);
            });
        }

        function selectPet(petId) {
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
            document.querySelectorAll('.pet-option').forEach(el => {
                el.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞
            const selectedElement = document.querySelector(`[data-id="${petId}"]`);
            selectedElement.classList.add('selected');
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±–æ—Ä
            gameState.selectedPet = petId;
            startButton.disabled = false;
            startButton.textContent = `–ò–≥—Ä–∞—Ç—å —Å ${petsData.find(p => p.id === petId).name.toLowerCase()}`;
        }

        function startGame() {
            if (!gameState.selectedPet) return;
            
            const petData = petsData.find(p => p.id === gameState.selectedPet);
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
            gameState.pet.type = petData.id;
            gameState.pet.name = petData.name;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞, –µ—Å–ª–∏ –µ—Å—Ç—å
            loadPet();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ
            updatePetDisplay();
            updateStatsDisplay();
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —ç–∫—Ä–∞–Ω—ã
            selectionScreen.style.display = 'none';
            gameScreen.style.display = 'block';
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
            gameTitle.textContent = `–¢–∞–º–∞–≥–æ—á–∏: ${petData.name}`;
            petTypeDisplay.innerHTML = `${petData.emoji} ${petData.name}`;
            petNameDisplay.textContent = petData.name;
            
            showMessage(`–ü—Ä–∏–≤–µ—Ç! –Ø ${petData.name.toLowerCase()}! –ü–æ–∑–∞–±–æ—Ç—å—Å—è –æ–±–æ –º–Ω–µ!`);
        }

        function updatePetDisplay() {
            const petData = petsData.find(p => p.id === gameState.pet.type);
            
            currentPetElement.innerHTML = `
                <div class="pet-body" style="background: ${petData.color}">
                    <div class="pet-eye left-eye"></div>
                    <div class="pet-eye right-eye"></div>
                    <div class="pet-mouth"></div>
                </div>
            `;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å
            updatePetStatus();
        }

        // ============================
        // –§–£–ù–ö–¶–ò–ò –ò–ì–†–´
        // ============================
        function updatePetStatus() {
            const petStatus = document.getElementById('pet-status');
            const petElement = document.querySelector('.pet-body');
            
            // –£–±–∏—Ä–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            petElement.classList.remove('pulse', 'shake');
            
            if (gameState.pet.isSleeping) {
                petStatus.textContent = '–°–ø–∏—Ç üí§';
            } else if (gameState.pet.health < 30) {
                petStatus.textContent = '–û—á–µ–Ω—å –±–æ–ª–µ–Ω ü§í';
                petElement.classList.add('shake');
            } else if (gameState.pet.hunger < 30) {
                petStatus.textContent = '–û—á–µ–Ω—å –≥–æ–ª–æ–¥–µ–Ω üçΩÔ∏è';
                petElement.classList.add('shake');
            } else if (gameState.pet.happiness < 30) {
                petStatus.textContent = '–û—á–µ–Ω—å –≥—Ä—É—Å—Ç–µ–Ω üò¢';
            } else if (gameState.pet.energy < 30) {
                petStatus.textContent = '–û—á–µ–Ω—å —É—Å—Ç–∞–ª üò¥';
            } else if (gameState.pet.happiness > 80 && gameState.pet.health > 80) {
                petStatus.textContent = '–û—á–µ–Ω—å —Å—á–∞—Å—Ç–ª–∏–≤ üòÑ';
                petElement.classList.add('pulse');
            } else if (gameState.pet.hunger > 70 && gameState.pet.happiness > 70) {
                petStatus.textContent = '–î–æ–≤–æ–ª–µ–Ω üòä';
            } else {
                petStatus.textContent = '–ù–æ—Ä–º–∞–ª—å–Ω—ã–π üôÇ';
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ä–æ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è
            const petMouth = document.querySelector('.pet-mouth');
            if (gameState.pet.happiness > 70) {
                petMouth.style.borderRadius = '0 0 50px 50px';
                petMouth.style.borderBottom = '5px solid black';
                petMouth.style.height = '30px';
            } else if (gameState.pet.happiness > 40) {
                petMouth.style.borderRadius = '0';
                petMouth.style.borderBottom = '3px solid black';
                petMouth.style.height = '20px';
            } else {
                petMouth.style.borderRadius = '50px 50px 0 0';
                petMouth.style.borderBottom = '5px solid black';
                petMouth.style.borderTop = '5px solid black';
                petMouth.style.height = '15px';
            }
        }

        function updateStatsDisplay() {
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–æ—Å–∫–∏
            document.getElementById('hunger-bar').style.width = gameState.pet.hunger + '%';
            document.getElementById('happiness-bar').style.width = gameState.pet.happiness + '%';
            document.getElementById('energy-bar').style.width = gameState.pet.energy + '%';
            document.getElementById('health-bar').style.width = gameState.pet.health + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∑–Ω–∞—á–µ–Ω–∏—è
            document.getElementById('hunger-value').textContent = Math.round(gameState.pet.hunger) + '%';
            document.getElementById('happiness-value').textContent = Math.round(gameState.pet.happiness) + '%';
            document.getElementById('energy-value').textContent = Math.round(gameState.pet.energy) + '%';
            document.getElementById('health-value').textContent = Math.round(gameState.pet.health) + '%';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤–æ–∑—Ä–∞—Å—Ç
            document.getElementById('pet-age').textContent = gameState.pet.age;
            
            updatePetStatus();
        }

        function showMessage(text) {
            const messageElement = document.getElementById('message');
            messageElement.textContent = text;
        }

        // ============================
        // –î–ï–ô–°–¢–í–ò–Ø –° –ü–ò–¢–û–ú–¶–ï–ú
        // ============================
        function feed() {
            if (gameState.pet.isSleeping) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ø–∏—Ç! –†–∞–∑–±—É–¥–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∫–æ—Ä–º–∏—Ç—å.');
                return;
            }
            
            const petType = gameState.pet.type;
            let hungerIncrease = 25;
            
            // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –ø–∞–Ω–¥—ã - –±—ã—Å—Ç—Ä–µ–µ –Ω–∞—Å—ã—â–∞–µ—Ç—Å—è
            if (petType === 'panda') hungerIncrease = 35;
            
            gameState.pet.hunger = Math.min(100, gameState.pet.hunger + hungerIncrease);
            gameState.pet.happiness = Math.min(100, gameState.pet.happiness + 5);
            gameState.pet.health = Math.min(100, gameState.pet.health + 2);
            
            showMessage('–í–∫—É—Å–Ω–æ! –°–ø–∞—Å–∏–±–æ –∑–∞ –µ–¥—É! üçé');
            updateStatsDisplay();
            savePet();
        }

        function play() {
            if (gameState.pet.isSleeping) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ø–∏—Ç! –†–∞–∑–±—É–¥–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –ø–æ–∏–≥—Ä–∞—Ç—å.');
                return;
            }
            
            if (gameState.pet.energy < 10) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ª–∏—à–∫–æ–º —É—Å—Ç–∞–ª, —á—Ç–æ–±—ã –∏–≥—Ä–∞—Ç—å.');
                return;
            }
            
            const petType = gameState.pet.type;
            let happinessIncrease = 20;
            let energyDecrease = 15;
            
            // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
            if (petType === 'dog') happinessIncrease = 25; // –°–æ–±–∞–∫–∏ –±–æ–ª—å—à–µ –ª—é–±—è—Ç –∏–≥—Ä–∞—Ç—å
            if (petType === 'dragon') energyDecrease = 10; // –î—Ä–∞–∫–æ–Ω—ã –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç–µ—Ä—è—é—Ç —ç–Ω–µ—Ä–≥–∏—é
            
            gameState.pet.happiness = Math.min(100, gameState.pet.happiness + happinessIncrease);
            gameState.pet.energy = Math.max(0, gameState.pet.energy - energyDecrease);
            gameState.pet.hunger = Math.max(0, gameState.pet.hunger - 5);
            
            showMessage('–£—Ä–∞! –ò–≥—Ä–∞—Ç—å —Ç–∞–∫ –≤–µ—Å–µ–ª–æ! üéÆ');
            updateStatsDisplay();
            savePet();
        }

        function toggleSleep() {
            gameState.pet.isSleeping = !gameState.pet.isSleeping;
            const sleepBtn = document.getElementById('sleep-btn');
            
            if (gameState.pet.isSleeping) {
                sleepBtn.innerHTML = '<i class="fas fa-sun"></i><span>–†–∞–∑–±—É–¥–∏—Ç—å</span>';
                
                let energyIncrease = 30;
                let healthIncrease = 10;
                
                // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å —Å–æ–±–∞–∫–∏ - –±—ã—Å—Ç—Ä–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —ç–Ω–µ—Ä–≥–∏—é –≤–æ —Å–Ω–µ
                if (gameState.pet.type === 'dog') energyIncrease = 40;
                
                gameState.pet.energy = Math.min(100, gameState.pet.energy + energyIncrease);
                gameState.pet.health = Math.min(100, gameState.pet.health + healthIncrease);
                
                showMessage('–•–æ—Ä–æ—à–æ —Å–ø–ª—é... —Ö—Ä—Ä—Ä... üí§');
            } else {
                sleepBtn.innerHTML = '<i class="fas fa-bed"></i><span>–£–ª–æ–∂–∏—Ç—å —Å–ø–∞—Ç—å</span>';
                showMessage('–Ø –ø—Ä–æ—Å–Ω—É–ª—Å—è –∏ –ø–æ–ª–æ–Ω —Å–∏–ª! üåÖ');
            }
            
            updateStatsDisplay();
            savePet();
        }

        function heal() {
            if (gameState.pet.isSleeping) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ø–∏—Ç! –†–∞–∑–±—É–¥–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –ø–æ–¥–ª–µ—á–∏—Ç—å.');
                return;
            }
            
            let healthIncrease = 30;
            
            // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫—Ä–æ–ª–∏–∫–∞ - –±—ã—Å—Ç—Ä–µ–µ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ
            if (gameState.pet.type === 'rabbit') healthIncrease = 40;
            
            gameState.pet.health = Math.min(100, gameState.pet.health + healthIncrease);
            gameState.pet.happiness = Math.min(100, gameState.pet.happiness + 10);
            
            showMessage('–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –∑–∞–±–æ—Ç–∏—à—å—Å—è –æ –º–æ–µ–º –∑–¥–æ—Ä–æ–≤—å–µ! üíä');
            updateStatsDisplay();
            savePet();
        }

        function clean() {
            if (gameState.pet.isSleeping) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ø–∏—Ç! –†–∞–∑–±—É–¥–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã –ø–æ–º—ã—Ç—å.');
                return;
            }
            
            gameState.pet.happiness = Math.min(100, gameState.pet.happiness + 15);
            gameState.pet.health = Math.min(100, gameState.pet.health + 5);
            
            showMessage('–ß–∏—Å—Ç–æ—Ç–∞ - –∑–∞–ª–æ–≥ –∑–¥–æ—Ä–æ–≤—å—è! üõÅ');
            updateStatsDisplay();
            savePet();
        }

        function train() {
            if (gameState.pet.isSleeping) {
                showMessage('–ü–∏—Ç–æ–º–µ—Ü —Å–ø–∏—Ç! –†–∞–∑–±—É–¥–∏—Ç–µ –µ–≥–æ, —á—Ç–æ–±—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å.');
                return;
            }
            
            if (gameState.pet.energy < 20) {
                showMessage('–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–Ω–µ—Ä–≥–∏–∏ –¥–ª—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏.');
                return;
            }
            
            gameState.pet.energy = Math.max(0, gameState.pet.energy - 20);
            gameState.pet.hunger = Math.max(0, gameState.pet.hunger - 10);
            gameState.pet.happiness = Math.min(100, gameState.pet.happiness + 5);
            gameState.pet.health = Math.min(100, gameState.pet.health + 3);
            
            showMessage('–Ø —Å—Ç–∞–Ω–æ–≤–ª—é—Å—å —Å–∏–ª—å–Ω–µ–µ! üí™');
            updateStatsDisplay();
            savePet();
        }

        // ============================
        // –°–ò–°–¢–ï–ú–ê –°–û–•–†–ê–ù–ï–ù–ò–Ø
        // ============================
        function savePet() {
            const saveData = {
                type: gameState.pet.type,
                pet: gameState.pet,
                lastUpdate: Date.now()
            };
            localStorage.setItem('tamagotchi_pet', JSON.stringify(saveData));
        }

        function loadPet() {
            const saved = localStorage.getItem('tamagotchi_pet');
            if (saved) {
                const saveData = JSON.parse(saved);
                
                // –ï—Å–ª–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω —Ç–æ—Ç –∂–µ —Ç–∏–ø –ø–∏—Ç–æ–º—Ü–∞, –∑–∞–≥—Ä—É–∂–∞–µ–º –µ–≥–æ
                if (saveData.type === gameState.pet.type) {
                    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º, —Å–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—à–ª–æ
                    const timePassed = Date.now() - saveData.lastUpdate;
                    const minutesPassed = Math.floor(timePassed / (1000 * 60));
                    
                    // –ö–æ–ø–∏—Ä—É–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
                    gameState.pet = {...saveData.pet};
                    
                    // –£–º–µ–Ω—å—à–∞–µ–º –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –ø—Ä–æ—à–µ–¥—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
                    if (minutesPassed > 0) {
                        let hungerDecrease = 0.5;
                        let happinessDecrease = 0.3;
                        let energyDecrease = 0.4;
                        
                        // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –µ–¥–∏–Ω–æ—Ä–æ–≥–∞ - –≤—Å–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–Ω–∏–∂–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ
                        if (gameState.pet.type === 'unicorn') {
                            hungerDecrease = 0.3;
                            happinessDecrease = 0.2;
                            energyDecrease = 0.3;
                        }
                        
                        // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å –∫–æ—Ç–∞ - –º–µ–¥–ª–µ–Ω–Ω–µ–µ —Ç–µ—Ä—è–µ—Ç —Å—á–∞—Å—Ç—å–µ
                        if (gameState.pet.type === 'cat') {
                            happinessDecrease = 0.2;
                        }
                        
                        gameState.pet.hunger = Math.max(0, gameState.pet.hunger - minutesPassed * hungerDecrease);
                        gameState.pet.happiness = Math.max(0, gameState.pet.happiness - minutesPassed * happinessDecrease);
                        gameState.pet.energy = Math.max(0, gameState.pet.energy - minutesPassed * energyDecrease);
                        
                        // –ó–¥–æ—Ä–æ–≤—å–µ —É—Ö—É–¥—à–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∏–∑–∫–∏–µ
                        if (gameState.pet.hunger < 30 || gameState.pet.happiness < 30 || gameState.pet.energy < 30) {
                            gameState.pet.health = Math.max(0, gameState.pet.health - minutesPassed * 0.2);
                        }
                        
                        // –í–æ–∑—Ä–∞—Å—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 60 –º–∏–Ω—É—Ç
                        gameState.pet.age += Math.floor(minutesPassed / 60);
                    }
                    
                    showMessage('–° –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º! –í–∞—à –ø–∏—Ç–æ–º–µ—Ü —Å–æ—Å–∫—É—á–∏–ª—Å—è.');
                }
            }
        }

        // ============================
        // –°–ò–°–¢–ï–ú–ê –£–•–£–î–®–ï–ù–ò–Ø –ü–û–ö–ê–ó–ê–¢–ï–õ–ï–ô
        // ============================
        function degradeStats() {
            if (!gameState.pet.isSleeping) {
                const petType = gameState.pet.type;
                
                let hungerDecrease = 0.5;
                let happinessDecrease = 0.3;
                let energyDecrease = 0.4;
                
                // –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–∞–∑–Ω—ã—Ö –ø–∏—Ç–æ–º—Ü–µ–≤
                if (petType === 'unicorn') {
                    hungerDecrease = 0.3;
                    happinessDecrease = 0.2;
                    energyDecrease = 0.3;
                }
                if (petType === 'cat') {
                    happinessDecrease = 0.2;
                }
                if (petType === 'dragon') {
                    energyDecrease = 0.3;
                }
                
                gameState.pet.hunger = Math.max(0, gameState.pet.hunger - hungerDecrease);
                gameState.pet.happiness = Math.max(0, gameState.pet.happiness - happinessDecrease);
                gameState.pet.energy = Math.max(0, gameState.pet.energy - energyDecrease);
                
                // –ó–¥–æ—Ä–æ–≤—å–µ —É—Ö—É–¥—à–∞–µ—Ç—Å—è, –µ—Å–ª–∏ –¥—Ä—É–≥–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ —Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–µ
                if (gameState.pet.hunger < 30 || gameState.pet.happiness < 30 || gameState.pet.energy < 30) {
                    gameState.pet.health = Math.max(0, gameState.pet.health - 0.5);
                }
                
                // –í–æ–∑—Ä–∞—Å—Ç —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ
                if (Math.random() < 0.001) {
                    gameState.pet.age += 1;
                }
                
                updateStatsDisplay();
                savePet();
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
                if (gameState.pet.hunger < 30) {
                    if (Math.random() < 0.1) showMessage('–Ø –≥–æ–ª–æ–¥–µ–Ω... üçΩÔ∏è');
                } else if (gameState.pet.happiness < 30) {
                    if (Math.random() < 0.1) showMessage('–ú–Ω–µ —Å–∫—É—á–Ω–æ... üòû');
                } else if (gameState.pet.energy < 30) {
                    if (Math.random() < 0.1) showMessage('–Ø —É—Å—Ç–∞–ª... üò¥');
                } else if (gameState.pet.health < 30) {
                    if (Math.random() < 0.1) showMessage('–Ø –ø–ª–æ—Ö–æ —Å–µ–±—è —á—É–≤—Å—Ç–≤—É—é... ü§í');
                }
            } else {
                // –í–æ —Å–Ω–µ –ø–∏—Ç–æ–º–µ—Ü –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
                let energyIncrease = 1;
                let healthIncrease = 0.5;
                
                if (gameState.pet.type === 'dog') energyIncrease = 1.5;
                if (gameState.pet.type === 'rabbit') healthIncrease = 0.8;
                
                gameState.pet.energy = Math.min(100, gameState.pet.energy + energyIncrease);
                gameState.pet.health = Math.min(100, gameState.pet.health + healthIncrease);
                
                updateStatsDisplay();
                savePet();
            }
        }

        // ============================
        // –ü–†–û–í–ï–†–ö–ê –î–û–°–¢–£–ü–ù–û–°–¢–ò –ö–ù–û–ü–û–ö
        // ============================
        function checkButtons() {
            const playBtn = document.getElementById('play-btn');
            const trainBtn = document.getElementById('train-btn');
            const healBtn = document.getElementById('heal-btn');
            
            playBtn.disabled = gameState.pet.isSleeping || gameState.pet.energy < 10;
            trainBtn.disabled = gameState.pet.isSleeping || gameState.pet.energy < 20;
            healBtn.disabled = gameState.pet.isSleeping || gameState.pet.health >= 100;
        }

        // ============================
        // –í–û–ó–í–†–ê–¢ –ö –í–´–ë–û–†–£ –ü–ò–¢–û–ú–¶–ê
        // ============================
        function goBackToSelection() {
            if (confirm('–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –≤—ã–±–æ—Ä—É –ø–∏—Ç–æ–º—Ü–∞? –¢–µ–∫—É—â–∏–π –ø–∏—Ç–æ–º–µ—Ü –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω.')) {
                gameScreen.style.display = 'none';
                selectionScreen.style.display = 'block';
                gameState.selectedPet = null;
                startButton.disabled = true;
                startButton.textContent = '–ù–∞—á–∞—Ç—å –∏–≥—Ä—É';
                
                // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å –ø–∏—Ç–æ–º—Ü–µ–≤
                document.querySelectorAll('.pet-option').forEach(el => {
                    el.classList.remove('selected');
                });
            }
        }

        // ============================
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø
        // ============================
        function init() {
            renderPetSelection();
            
            // –ö–Ω–æ–ø–∫–∞ –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã
            startButton.addEventListener('click', startGame);
            
            // –ö–Ω–æ–ø–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞
            backButton.addEventListener('click', goBackToSelection);
            
            // –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
            document.getElementById('feed-btn').addEventListener('click', feed);
            document.getElementById('play-btn').addEventListener('click', play);
            document.getElementById('sleep-btn').addEventListener('click', toggleSleep);
            document.getElementById('heal-btn').addEventListener('click', heal);
            document.getElementById('clean-btn').addEventListener('click', clean);
            document.getElementById('train-btn').addEventListener('click', train);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É —É—Ö—É–¥—à–µ–Ω–∏—è –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π
            setInterval(degradeStats, 30000); // –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∫–Ω–æ–ø–æ–∫
            setInterval(checkButtons, 5000); // –ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            window.addEventListener('beforeunload', savePet);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –∏–≥—Ä—É
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
